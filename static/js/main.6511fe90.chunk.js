(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{10:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return l})),n.d(e,"j",(function(){return d}));var c=n(2),r=Object(c.b)("contact/featchContactsRequest"),a=Object(c.b)("contact/featchContactsSuccess"),u=Object(c.b)("contact/featchContactsError"),o=Object(c.b)("contact/addContactsRequest"),i=Object(c.b)("contact/addContactsSuccess"),s=Object(c.b)("contact/addContactsError"),b=Object(c.b)("contact/deleteContactsRequest"),j=Object(c.b)("contact/deleteContactsSuccess"),l=Object(c.b)("contact/deleteContactsError"),d=Object(c.b)("contact/filter")},21:function(t,e,n){t.exports={container:"UserMenu_container__GgYhE",avatar:"UserMenu_avatar__2e7Jj",name:"UserMenu_name__3e8KV",nameUser:"UserMenu_nameUser__uIn2X",button:"UserMenu_button__3mTE-"}},25:function(t,e,n){t.exports={link:"Navigation_link__12o2K",activeLink:"Navigation_activeLink__2rUFB"}},26:function(t,e,n){t.exports={link:"AuthNav_link__2ejsg",activeLink:"AuthNav_activeLink__3huQJ"}},44:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(0);var c=n(49),r=n.n(c),a=n(1),u=function(t){var e=t.children;return Object(a.jsx)("div",{className:r.a.Container,children:e})}},49:function(t,e,n){t.exports={Container:"Container_Container__3tQ9A"}},50:function(t,e,n){t.exports={header:"AppBar_header__1Yk8v"}},86:function(t,e,n){},87:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var c,r,a=n(0),u=n.n(a),o=n(28),i=n.n(o),s=n(15),b=n(8),j=n(46),l=n(2),d=n(47),O=n.n(d),f=n(48),h=n.n(f),p=n(51),v=n(3),x=n(6),g=n(10),m=Object(l.c)([],(c={},Object(v.a)(c,g.i,(function(t,e){return e.payload})),Object(v.a)(c,g.c,(function(t,e){var n,c,r=e.payload;return c=r,(n=t).some((function(t){var e=t.name,n=t.number;return e===c.name||n===c.number}))?(alert("You have this number or name!!!Sorry try again."),n):[c].concat(Object(p.a)(n))})),Object(v.a)(c,g.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),k=Object(l.c)("",Object(v.a)({},g.j,(function(t,e){return e.payload})));var _=Object(l.c)(!1,(r={},Object(v.a)(r,g.h,(function(){return!0})),Object(v.a)(r,g.i,(function(){return!1})),Object(v.a)(r,g.g,(function(){return!1})),Object(v.a)(r,g.b,(function(){return!0})),Object(v.a)(r,g.c,(function(){return!1})),Object(v.a)(r,g.a,(function(){return!1})),Object(v.a)(r,g.e,(function(){return!0})),Object(v.a)(r,g.f,(function(){return!1})),Object(v.a)(r,g.d,(function(){return!1})),r)),C=Object(l.c)(null,{}),y=Object(x.b)({items:m,filter:k,loading:_,error:C}),N=n(9),A=n(18),U={key:"auth",storage:h.a,whitelist:["token"]},w=Object(l.a)({reducer:{phonebook:y,auth:Object(A.g)(U,N.b)},middleware:function(t){return t({serializableCheck:{ignoredActions:[A.a,A.f,A.b,A.c,A.d,A.e]}}).concat(O.a)},devTools:!1}),E=Object(A.h)(w),L=n(5),S=n(44),R={home:"/",register:"/register",login:"/login",phonebooks:"/phonebooks"},T=n(25),I=n.n(T),q=n(1);function z(){var t=Object(b.c)(N.c.getIsAuthenticated);return Object(q.jsxs)("nav",{children:[Object(q.jsx)(s.b,{to:R.home,exact:!0,className:I.a.link,activeClassName:I.a.activeLink,children:"Main"}),t&&Object(q.jsx)(s.b,{to:R.phonebooks,exact:!0,className:I.a.link,activeClassName:I.a.activeLink,children:"Phonebook"})]})}var M=n(26),B=n.n(M),J=function(){return Object(q.jsxs)("div",{children:[Object(q.jsx)(s.b,{to:R.register,exact:!0,className:B.a.link,activeClassName:B.a.activeLink,children:"Register"}),Object(q.jsx)(s.b,{to:R.login,exact:!0,className:B.a.link,activeClassName:B.a.activeLink,children:"Login"})]})},Y=n.p+"static/media/default-avatar.e44fc4e2.png",K=n(21),P=n.n(K);function Q(){var t=Object(b.b)(),e=Object(b.c)(N.c.getUsername),n=Object(a.useCallback)((function(){return t(N.a.logOut())}),[t]);return Object(q.jsxs)("div",{className:P.a.container,children:[Object(q.jsx)("img",{className:P.a.avatar,src:Y,alt:"avatar",width:"32"}),Object(q.jsxs)("p",{className:P.a.name,children:["Welcome,",Object(q.jsxs)("span",{className:P.a.nameUser,children:[" ",e," "]}),"!"]}),Object(q.jsx)("button",{type:"button",onClick:n,className:P.a.button,children:"Log Out"})]})}var F=n(50),G=n.n(F);function V(){var t=Object(b.c)(N.c.getIsAuthenticated);return Object(q.jsxs)("header",{className:G.a.header,children:[Object(q.jsx)(z,{}),t?Object(q.jsx)(Q,{}):Object(q.jsx)(J,{})]})}var W=n(16),X=n(29),D=["isAuthenticated","redirectTo","children"];function H(t){t.isAuthenticated;var e=t.redirectTo,n=t.children,c=Object(X.a)(t,D),r=Object(b.c)(N.c.getIsAuthenticated);return Object(q.jsx)(L.b,Object(W.a)(Object(W.a)({},c),{},{children:r?n:Object(q.jsx)(L.a,{to:e})}))}var Z=["isAuthenticated","redirectTo","children"];function $(t){t.isAuthenticated;var e=t.redirectTo,n=t.children,c=Object(X.a)(t,Z),r=Object(b.c)(N.c.getIsAuthenticated);return Object(q.jsx)(L.b,Object(W.a)(Object(W.a)({},c),{},{children:r&&c.restricted?Object(q.jsx)(L.a,{to:e}):n}))}n(86),n(87);var tt=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,99))})),et=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,98))})),nt=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,100))})),ct=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,101))}));function rt(){var t=Object(b.b)();return Object(a.useEffect)((function(){t(N.a.getCurrentUser())}),[t]),Object(q.jsxs)(S.a,{children:[Object(q.jsx)(V,{}),Object(q.jsx)(a.Suspense,{fallback:Object(q.jsx)("div",{className:"loader"}),children:Object(q.jsxs)(L.d,{children:[Object(q.jsx)($,{exact:!0,path:R.home,children:Object(q.jsx)(tt,{})}),Object(q.jsx)($,{path:R.register,restricted:!0,redirectTo:R.home,children:Object(q.jsx)(nt,{})}),Object(q.jsx)($,{path:R.login,restricted:!0,redirectTo:R.home,children:Object(q.jsx)(ct,{})}),Object(q.jsx)(H,{path:R.phonebooks,redirectTo:R.login,children:Object(q.jsx)(et,{})})]})})]})}var at=Object(a.createContext)();i.a.render(Object(q.jsx)(u.a.StrictMode,{children:Object(q.jsx)(b.a,{store:w,children:Object(q.jsx)(j.a,{loading:null,persistor:E,children:Object(q.jsx)(s.a,{children:Object(q.jsx)(at.Provider,{value:{},children:Object(q.jsx)(rt,{})})})})})}),document.getElementById("root"))},9:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return Q}));var c={};n.r(c),n.d(c,"getIsAuthenticated",(function(){return v})),n.d(c,"getUsername",(function(){return x}));var r={};n.r(r),n.d(r,"register",(function(){return L})),n.d(r,"logIn",(function(){return S})),n.d(r,"logOut",(function(){return R})),n.d(r,"getCurrentUser",(function(){return T}));var a=n(2),u=Object(a.b)("auth/registerRequest"),o=Object(a.b)("auth/registerSuccess"),i=Object(a.b)("auth/registerError"),s=Object(a.b)("auth/loginRequest"),b=Object(a.b)("auth/loginSuccess"),j=Object(a.b)("auth/loginError"),l=Object(a.b)("auth/logoutRequest"),d=Object(a.b)("auth/logoutSuccess"),O=Object(a.b)("auth/logoutError"),f=Object(a.b)("auth/getCurrentUserRequest"),h=Object(a.b)("auth/getCurrentUserSuccess"),p=Object(a.b)("auth/getCurrentUserError"),v=function(t){return t.auth.isAuthenticated},x=function(t){return t.auth.user.name},g=n(17),m=n.n(g),k=n(24),_=n(19),C=n.n(_);C.a.defaults.baseURL="https://connections-api.herokuapp.com";var y,N,A,U,w=function(t){C.a.defaults.headers.common.Authorization="Bearer ".concat(t)},E=function(){C.a.defaults.headers.common.Authorization=""},L=function(t){return function(){var e=Object(k.a)(m.a.mark((function e(n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(u()),e.prev=1,e.next=4,C.a.post("/users/signup",t);case 4:c=e.sent,w(c.data.token),n(o(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(i(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},S=function(t){return function(){var e=Object(k.a)(m.a.mark((function e(n){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(s()),e.prev=1,e.next=4,C.a.post("/users/login",t);case 4:c=e.sent,w(c.data.token),n(b(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(j(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},R=function(){return function(){var t=Object(k.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(l()),t.prev=1,t.next=4,C.a.post("/users/logout");case 4:E(),e(d()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(O(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},T=function(){return function(){var t=Object(k.a)(m.a.mark((function t(e,n){var c,r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),r=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return w(r),e(f()),t.prev=5,t.next=8,C.a.get("/users/current");case 8:a=t.sent,e(h(a.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(p(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()},I=n(3),q=n(6),z={name:null,email:null},M=Object(a.c)(z,(y={},Object(I.a)(y,o,(function(t,e){return e.payload.user})),Object(I.a)(y,b,(function(t,e){return e.payload.user})),Object(I.a)(y,d,(function(){return z})),Object(I.a)(y,h,(function(t,e){return e.payload})),y)),B=function(t,e){return e.payload.token},J=Object(a.c)(null,(N={},Object(I.a)(N,o,B),Object(I.a)(N,b,B),Object(I.a)(N,d,(function(){return null})),N)),Y=function(t,e){return e.payload},K=Object(a.c)(null,(A={},Object(I.a)(A,i,Y),Object(I.a)(A,j,Y),Object(I.a)(A,O,Y),Object(I.a)(A,p,Y),A)),P=Object(a.c)(!1,(U={},Object(I.a)(U,o,(function(){return!0})),Object(I.a)(U,b,(function(){return!0})),Object(I.a)(U,h,(function(){return!0})),Object(I.a)(U,d,(function(){return!1})),Object(I.a)(U,i,(function(){return!1})),Object(I.a)(U,j,(function(){return!1})),Object(I.a)(U,p,(function(){return!1})),U)),Q=Object(q.b)({isAuthenticated:P,user:M,token:J,error:K})}},[[88,1,2]]]);
//# sourceMappingURL=main.6511fe90.chunk.js.map