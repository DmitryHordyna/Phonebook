(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return j})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return O}));var r=n(2),c=Object(r.b)("contact/featchContactsRequest"),a=Object(r.b)("contact/featchContactsSuccess"),u=Object(r.b)("contact/featchContactsError"),o=Object(r.b)("contact/addContactsRequest"),s=Object(r.b)("contact/addContactsSuccess"),i=Object(r.b)("contact/addContactsError"),b=Object(r.b)("contact/deleteContactsRequest"),j=Object(r.b)("contact/deleteContactsSuccess"),l=Object(r.b)("contact/deleteContactsError"),O=Object(r.b)("contact/filter")},22:function(e,t,n){e.exports={container:"UserMenu_container__GgYhE",avatar:"UserMenu_avatar__2e7Jj",name:"UserMenu_name__3e8KV",nameUser:"UserMenu_nameUser__uIn2X",button:"UserMenu_button__3mTE-"}},25:function(e,t,n){e.exports={link:"Navigation_link__12o2K",activeLink:"Navigation_activeLink__2rUFB"}},26:function(e,t,n){e.exports={link:"AuthNav_link__2ejsg",activeLink:"AuthNav_activeLink__3huQJ"}},39:function(e,t,n){"use strict";var r=n(19),c=n.n(r),a=n(24),u=n(20),o=n.n(u),s=n(4);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var i=function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)},b=function(){o.a.defaults.headers.common.Authorization=""};t.a={getCurrentUser:function(){return function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return i(a),t(s.a.getCurrentUserRequest()),e.prev=5,e.next=8,o.a.get("/users/current");case 8:u=e.sent,t(s.a.getCurrentUserSuccess(u.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(s.a.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(s.a.logoutRequest()),e.prev=1,e.next=4,o.a.post("/users/logout");case 4:b(),t(s.a.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(s.a.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(s.a.loginRequest()),t.prev=1,t.next=4,o.a.post("/users/login",e);case 4:r=t.sent,i(r.data.token),n(s.a.loginSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(s.a.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},register:function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(s.a.registerRequest()),t.prev=1,t.next=4,o.a.post("/users/signup",e);case 4:r=t.sent,i(r.data.token),n(s.a.registerSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(s.a.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}}},4:function(e,t,n){"use strict";var r=n(2),c=Object(r.b)("auth/registerRequest"),a=Object(r.b)("auth/registerSuccess"),u=Object(r.b)("auth/registerError"),o=Object(r.b)("auth/loginRequest"),s=Object(r.b)("auth/loginSuccess"),i=Object(r.b)("auth/loginError"),b=Object(r.b)("auth/logoutRequest"),j=Object(r.b)("auth/logoutSuccess"),l=Object(r.b)("auth/logoutError"),O=Object(r.b)("auth/getCurrentUserRequest"),d=Object(r.b)("auth/getCurrentUserSuccess"),f=Object(r.b)("auth/getCurrentUserError");t.a={registerRequest:c,registerSuccess:a,registerError:u,logoutRequest:b,logoutSuccess:j,logoutError:l,loginRequest:o,loginSuccess:s,loginError:i,getCurrentUserRequest:O,getCurrentUserSuccess:d,getCurrentUserError:f}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(0);var r=n(54),c=n.n(r),a=n(1),u=function(e){var t=e.children;return Object(a.jsx)("div",{className:c.a.Container,children:t})}},54:function(e,t,n){e.exports={Container:"Container_Container__3tQ9A"}},55:function(e,t,n){e.exports={header:"AppBar_header__1Yk8v"}},9:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return v}));var r,c,a,u,o=n(4),s={getIsAuthenticated:function(e){return e.auth.isAuthenticated},getUsername:function(e){return e.auth.user.name}},i=n(39),b=n(3),j=n(7),l=n(2),O={name:null,email:null},d=Object(l.c)(O,(r={},Object(b.a)(r,o.a.registerSuccess,(function(e,t){return t.payload.user})),Object(b.a)(r,o.a.loginSuccess,(function(e,t){return t.payload.user})),Object(b.a)(r,o.a.logoutSuccess,(function(){return O})),Object(b.a)(r,o.a.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),f=function(e,t){return t.payload.token},h=Object(l.c)(null,(c={},Object(b.a)(c,o.a.registerSuccess,f),Object(b.a)(c,o.a.loginSuccess,f),Object(b.a)(c,o.a.logoutSuccess,(function(){return null})),c)),g=function(e,t){return t.payload},p=Object(l.c)(null,(a={},Object(b.a)(a,o.a.registerError,g),Object(b.a)(a,o.a.loginError,g),Object(b.a)(a,o.a.logoutError,g),Object(b.a)(a,o.a.getCurrentUserError,g),a)),m=Object(l.c)(!1,(u={},Object(b.a)(u,o.a.registerSuccess,(function(){return!0})),Object(b.a)(u,o.a.loginSuccess,(function(){return!0})),Object(b.a)(u,o.a.getCurrentUserSuccess,(function(){return!0})),Object(b.a)(u,o.a.logoutSuccess,(function(){return!1})),Object(b.a)(u,o.a.registerError,(function(){return!1})),Object(b.a)(u,o.a.loginError,(function(){return!1})),Object(b.a)(u,o.a.getCurrentUserError,(function(){return!1})),u)),v=Object(j.b)({isAuthenticated:m,user:d,token:h,error:p})},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),u=n.n(a),o=n(28),s=n.n(o),i=n(17),b=n(11),j=n(51),l=n(30),O=n(2),d=n(52),f=n.n(d),h=n(53),g=n.n(h),p=n(3),m=n(7),v=n(12),x=Object(O.c)([],(r={},Object(p.a)(r,v.i,(function(e,t){return t.payload})),Object(p.a)(r,v.c,(function(e,t){var n,r,c=t.payload;return r=c,(n=e).some((function(e){var t=e.name,n=e.number;return t===r.name||n===r.number}))?(alert("You have this number or name!!!Sorry try again."),n):[r].concat(Object(l.a)(n))})),Object(p.a)(r,v.f,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),k=Object(O.c)("",Object(p.a)({},v.j,(function(e,t){return t.payload})));var C=Object(O.c)(!1,(c={},Object(p.a)(c,v.h,(function(){return!0})),Object(p.a)(c,v.i,(function(){return!1})),Object(p.a)(c,v.g,(function(){return!1})),Object(p.a)(c,v.b,(function(){return!0})),Object(p.a)(c,v.c,(function(){return!1})),Object(p.a)(c,v.a,(function(){return!1})),Object(p.a)(c,v.e,(function(){return!0})),Object(p.a)(c,v.f,(function(){return!1})),Object(p.a)(c,v.d,(function(){return!1})),c)),_=Object(O.c)(null,{}),S=Object(m.b)({items:x,filter:k,loading:C,error:_}),U=n(9),y=n(10),A=(Object(l.a)(Object(O.d)({serializableCheck:{ignoredActions:[y.a,y.f,y.b,y.c,y.d,y.e]}})),{key:"auth",storage:g.a,whitelist:["token"]}),E=Object(O.a)({reducer:{phonebook:S,auth:Object(y.g)(A,U.b)},middleware:function(e){return e({serializableCheck:{ignoredActions:[y.a,y.f,y.b,y.c,y.d,y.e]}}).concat(f.a)},devTools:!1}),N={persistor:Object(y.h)(E),store:E},R=n(35),q=n(36),w=n(38),L=n(37),T=n(6),z=n(49),I={home:"/",register:"/register",login:"/login",phonebooks:"/phonebooks"},M=n(25),B=n.n(M),J=n(1),G=Object(b.b)((function(e){return{isAuthenticated:U.c.getIsAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return Object(J.jsxs)("nav",{children:[Object(J.jsx)(i.b,{to:I.home,exact:!0,className:B.a.link,activeClassName:B.a.activeLink,children:"Main"}),t&&Object(J.jsx)(i.b,{to:I.phonebooks,exact:!0,className:B.a.link,activeClassName:B.a.activeLink,children:"Phonebook"})]})})),Y=n(26),K=n.n(Y),Q=function(){return Object(J.jsxs)("div",{children:[Object(J.jsx)(i.b,{to:I.register,exact:!0,className:K.a.link,activeClassName:K.a.activeLink,children:"Register"}),Object(J.jsx)(i.b,{to:I.login,exact:!0,className:K.a.link,activeClassName:K.a.activeLink,children:"Login"})]})},D=n.p+"static/media/default-avatar.e44fc4e2.png",F=n(22),P=n.n(F),V={onLogout:U.a.logOut},W=Object(b.b)((function(e){return{name:U.c.getUsername(e),avatar:D}}),V)((function(e){var t=e.avatar,n=e.name,r=e.onLogout;return Object(J.jsxs)("div",{className:P.a.container,children:[Object(J.jsx)("img",{className:P.a.avatar,src:t,alt:"avatar",width:"32"}),Object(J.jsxs)("p",{className:P.a.name,children:["Welcome,",Object(J.jsxs)("span",{className:P.a.nameUser,children:[" ",n," "]}),"!"]}),Object(J.jsx)("button",{type:"button",onClick:r,className:P.a.button,children:"Log Out"})]})})),X=n(55),H=n.n(X),Z=Object(b.b)((function(e){return{isAuthenticated:U.c.getIsAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;e.name;return Object(J.jsxs)("header",{className:H.a.header,children:[Object(J.jsx)(G,{}),t?Object(J.jsx)(W,{}):Object(J.jsx)(Q,{})]})})),$=n(18),ee=n(29),te=["component","isAuthenticated","redirectTo"],ne=Object(b.b)((function(e){return{isAuthenticated:U.c.getIsAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,c=Object(ee.a)(e,te);return Object(J.jsx)(T.b,Object($.a)(Object($.a)({},c),{},{render:function(e){return n?Object(J.jsx)(t,Object($.a)({},e)):Object(J.jsx)(T.a,{to:r})}}))})),re=["component","isAuthenticated","redirectTo"],ce=Object(b.b)((function(e){return{isAuthenticated:U.c.getIsAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=e.redirectTo,c=Object(ee.a)(e,re);return Object(J.jsx)(T.b,Object($.a)(Object($.a)({},c),{},{render:function(e){return n&&c.restricted?Object(J.jsx)(T.a,{to:r}):Object(J.jsx)(t,Object($.a)({},e))}}))})),ae=(n(90),n(91),Object(a.lazy)((function(){return n.e(4).then(n.bind(null,102))}))),ue=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,101))})),oe=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,103))})),se=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,104))})),ie=function(e){Object(w.a)(n,e);var t=Object(L.a)(n);function n(){return Object(R.a)(this,n),t.apply(this,arguments)}return Object(q.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return Object(J.jsxs)(z.a,{children:[Object(J.jsx)(Z,{}),Object(J.jsx)(a.Suspense,{fallback:Object(J.jsx)("div",{className:"loader"}),children:Object(J.jsxs)(T.d,{children:[Object(J.jsx)(T.b,{exact:!0,path:I.home,component:ae}),Object(J.jsx)(ce,{path:I.register,restricted:!0,component:oe,redirectTo:I.home}),Object(J.jsx)(ce,{path:I.login,restricted:!0,component:se,redirectTo:I.home}),Object(J.jsx)(ne,{path:I.phonebooks,component:ue,redirectTo:I.login})]})})]})}}]),n}(a.Component),be={onGetCurrentUser:U.a.getCurrentUser},je=Object(b.b)(null,be)(ie);s.a.render(Object(J.jsx)(u.a.StrictMode,{children:Object(J.jsx)(b.a,{store:N.store,children:Object(J.jsx)(j.a,{loading:null,persistor:N.persistor,children:Object(J.jsx)(i.a,{children:Object(J.jsx)(je,{})})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.378bb047.chunk.js.map