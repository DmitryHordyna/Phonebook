{"version":3,"sources":["redux/phonebook/action_phonebook.js","components/UserMenu/UserMenu.module.css","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","components/Container/Container.jsx","components/Container/Container.module.css","components/AppBar/AppBar.module.css","redux/phonebook/reducers_phonebook.js","redux/store.js","routes.js","components/Navigation/Navigation.jsx","components/AuthNav/AuthNav.jsx","components/UserMenu/default-avatar.png","components/UserMenu/UserMenu.jsx","components/AppBar/AppBar.jsx","components/PrivateRoute.js","components/PublicRoute.js","App.js","context/authContext.js","index.js","redux/auth/auth-actions.js","redux/auth/auth-selectors.js","redux/auth/auth-operation.js","redux/auth/auth-reducer.js"],"names":["featchContactsRequest","createAction","featchContactsSuccess","featchContactsError","addContactsRequest","addContactsSuccess","addContactsError","deleteContactsRequest","deleteContactsSuccess","deleteContactsError","filterContact","module","exports","Container","children","className","style","items","createReducer","_","payload","state","allContacts","newContact","some","name","number","alert","filter","id","loading","error","combineReducers","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","phonebook","contactReducer","auth","persistReducer","authReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","logger","devTools","process","persistor","persistStore","routes","home","register","login","phonebooks","Navigation","isLoggedIn","useSelector","authSelectors","getIsAuthenticated","to","exact","link","activeClassName","activeLink","AuthNav","UserMenu","dispatch","useDispatch","getUsername","onLogOut","useCallback","authOperations","logOut","container","avatar","src","defaultAvatar","alt","width","nameUser","type","onClick","button","AppBar","header","PrivateRoute","isAuthenticated","redirectTo","routeProps","PublicRoute","restricted","HomeView","lazy","PhonebooksView","RegisterView","LoginView","App","useEffect","getCurrentUser","fallback","path","authContext","createContext","ReactDOM","render","StrictMode","Provider","value","document","getElementById","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","user","axios","defaults","baseURL","token","headers","common","Authorization","credentials","a","authActions","post","response","data","message","logIn","responce","getState","persistedToken","get","initialUserState","email","setPayloadToken","setError"],"mappings":"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","file":"static/js/main.6511fe90.chunk.js","sourcesContent":["//module\nimport { createAction } from '@reduxjs/toolkit';\n\nexport const featchContactsRequest = createAction(\n  'contact/featchContactsRequest',\n);\nexport const featchContactsSuccess = createAction(\n  'contact/featchContactsSuccess',\n);\nexport const featchContactsError = createAction('contact/featchContactsError');\n\nexport const addContactsRequest = createAction('contact/addContactsRequest');\nexport const addContactsSuccess = createAction('contact/addContactsSuccess');\nexport const addContactsError = createAction('contact/addContactsError');\n\nexport const deleteContactsRequest = createAction(\n  'contact/deleteContactsRequest',\n);\nexport const deleteContactsSuccess = createAction(\n  'contact/deleteContactsSuccess',\n);\nexport const deleteContactsError = createAction('contact/deleteContactsError');\n\nexport const filterContact = createAction('contact/filter');\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__GgYhE\",\"avatar\":\"UserMenu_avatar__2e7Jj\",\"name\":\"UserMenu_name__3e8KV\",\"nameUser\":\"UserMenu_nameUser__uIn2X\",\"button\":\"UserMenu_button__3mTE-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__12o2K\",\"activeLink\":\"Navigation_activeLink__2rUFB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__2ejsg\",\"activeLink\":\"AuthNav_activeLink__3huQJ\"};","//module\nimport React from \"react\"\n//style\nimport style from './Container.module.css'\n\nconst Container = ({ children }) => <div className={style.Container}>{children}</div>\n\nexport default Container;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3tQ9A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1Yk8v\"};","//module\nimport { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\n//component\nimport {\n  featchContactsRequest,\n  featchContactsSuccess,\n  featchContactsError,\n  addContactsRequest,\n  addContactsSuccess,\n  addContactsError,\n  deleteContactsRequest,\n  deleteContactsSuccess,\n  deleteContactsError,\n  filterContact,\n} from './action_phonebook';\n\nconst items = createReducer([], {\n  [featchContactsSuccess]: (_, { payload }) => payload,\n  [addContactsSuccess]: (state, { payload }) => foundMatch(state, payload),\n  [deleteContactsSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n});\n\nconst filter = createReducer('', {\n  [filterContact]: (_, { payload }) => payload,\n});\n\nfunction foundMatch(allContacts, newContact) {\n  const chek = allContacts.some(\n    ({ name, number }) =>\n      name === newContact.name || number === newContact.number,\n  );\n  if (chek) {\n    alert(`You have this number or name!!!Sorry try again.`);\n    return allContacts;\n  } else {\n    return [newContact, ...allContacts];\n  }\n}\n\nconst loading = createReducer(false, {\n  [featchContactsRequest]: () => true,\n  [featchContactsSuccess]: () => false,\n  [featchContactsError]: () => false,\n  [addContactsRequest]: () => true,\n  [addContactsSuccess]: () => false,\n  [addContactsError]: () => false,\n  [deleteContactsRequest]: () => true,\n  [deleteContactsSuccess]: () => false,\n  [deleteContactsError]: () => false,\n});\n\nconst error = createReducer(null, {});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  error,\n});\n","//module\nimport { configureStore } from '@reduxjs/toolkit';\nimport logger from 'redux-logger';\nimport storage from 'redux-persist/lib/storage';\n//component\nimport contactReducer from './phonebook/reducers_phonebook';\nimport { authReducer } from './auth';\nimport {\n  persistReducer,\n  persistStore,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\nexport const store = configureStore({\n  reducer: {\n    phonebook: contactReducer,\n    auth: persistReducer(authPersistConfig, authReducer),\n  },\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n      },\n    }).concat(logger),\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n\n// export default { persistor, store };\n// const middleware = [\n//   ...getDefaultMiddleware({\n//     serializableCheck: {\n//       ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n//     },\n//   }),\n//   // logger,\n// ];\n","const routes = {\n  home: '/',\n  register: '/register',\n  login: '/login',\n  phonebooks: '/phonebooks',\n};\n\nexport default routes;\n","//module\nimport React from 'react'\nimport { useSelector } from 'react-redux'\nimport {NavLink} from 'react-router-dom'\nimport { authSelectors } from '../../redux/auth'\n//components\nimport routes from '../../routes';\n//style\nimport style from './Navigation.module.css'\n\n\n\nexport default function Navigation() {\n    const isLoggedIn = useSelector(authSelectors.getIsAuthenticated)\n\n    return (\n    <nav>\n        <NavLink to={routes.home} exact className={style.link} activeClassName={style.activeLink}>Main</NavLink>\n        {isLoggedIn && <NavLink to={routes.phonebooks} exact className={style.link} activeClassName={style.activeLink}>Phonebook</NavLink>}\n    </nav>\n    )\n}\n","//module\nimport React from 'react'\nimport {NavLink} from 'react-router-dom'\n//components\nimport routes from '../../routes';\n//style\nimport style from './AuthNav.module.css'\n\nconst AuthNav = () => (\n    <div>\n<NavLink to={routes.register} exact className={style.link} activeClassName={style.activeLink}>Register</NavLink>\n<NavLink to={routes.login} exact className={style.link} activeClassName={style.activeLink}>Login</NavLink>\n    </div>\n)\nexport default AuthNav\n","export default __webpack_public_path__ + \"static/media/default-avatar.e44fc4e2.png\";","//module\nimport React,{useCallback} from 'react';\nimport { useDispatch,useSelector} from 'react-redux';\n//component\nimport { authSelectors,authOperations } from '../../redux/auth';\nimport defaultAvatar from './default-avatar.png'\n//style\nimport style from './UserMenu.module.css'\n\nexport default function UserMenu() {\n    const dispatch = useDispatch()\n    \n    const name = useSelector(authSelectors.getUsername)\n    const onLogOut=useCallback(() => dispatch(authOperations.logOut()),[dispatch], )\n    \n return (\n        <div className={style.container}>\n        <img className={style.avatar}  src={defaultAvatar} alt=\"avatar\"  width=\"32\" />\n        <p className={style.name}>Welcome,<span className={style.nameUser}> {name} </span>!</p>\n        <button type='button' onClick={onLogOut} className={style.button}>Log Out</button>\n    </div>\n )\n }\n","//module\nimport React from 'react'\nimport { useSelector } from 'react-redux'\n//components\nimport Navigation from '../Navigation/Navigation'\nimport AuthNav from '../AuthNav'\nimport UserMenu from '../UserMenu'\nimport { authSelectors } from '../../redux/auth'\n//style\nimport style from './AppBar.module.css'\n\n\nexport default function AppBar() {\n\n  const isLoggedIn= useSelector(authSelectors.getIsAuthenticated)\n\n  return (\n    <header className={style.header}>\n      <Navigation />\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\n    </header>\n)\n};\n\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\nexport default function PrivateRoute({\n  isAuthenticated,\n  redirectTo,\n  children,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { authSelectors } from '../redux/auth';\n\nexport default function PublicRoute({\n  isAuthenticated,\n  redirectTo,\n  children,\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn && routeProps.restricted ? (\n        <Redirect to={redirectTo} />\n      ) : (\n        children\n      )}\n    </Route>\n  );\n}\n","//module\nimport React, { useEffect, Suspense, lazy } from 'react';\nimport { Switch } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n//components\n\nimport Container from './components/Container';\nimport AppBar from './components/AppBar/AppBar';\nimport { authOperations } from './redux/auth';\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\nimport routes from './routes';\n//styles\nimport './styles/base.scss';\nimport './App.scss';\n\nconst HomeView = lazy(() => import('./views/HomeView'));\nconst PhonebooksView = lazy(() => import('./views/PhonebooksView'));\nconst RegisterView = lazy(() => import('./views/RegisterView'));\nconst LoginView = lazy(() => import('./views/LoginView'));\n\nexport default function App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n\n      <Suspense fallback={<div className=\"loader\"></div>}>\n        <Switch>\n          <PublicRoute exact path={routes.home}>\n            <HomeView />\n          </PublicRoute>\n          <PublicRoute\n            path={routes.register}\n            restricted\n            redirectTo={routes.home}\n          >\n            <RegisterView />\n          </PublicRoute>\n          <PublicRoute path={routes.login} restricted redirectTo={routes.home}>\n            <LoginView />\n          </PublicRoute>\n          <PrivateRoute path={routes.phonebooks} redirectTo={routes.login}>\n            <PhonebooksView />\n          </PrivateRoute>\n        </Switch>\n      </Suspense>\n    </Container>\n  );\n}\n","import { createContext } from 'react';\n\nconst authContext = createContext();\n\nexport default authContext;\n","//module\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\n//component\nimport * as store from './redux/store';\nimport App from './App';\nimport authContext from './context/authContext';\n\n//styles\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <authContext.Provider value={{}}>\n            <App />\n          </authContext.Provider>\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const registerRequest = createAction('auth/registerRequest');\nexport const registerSuccess = createAction('auth/registerSuccess');\nexport const registerError = createAction('auth/registerError');\n\nexport const loginRequest = createAction('auth/loginRequest');\nexport const loginSuccess = createAction('auth/loginSuccess');\nexport const loginError = createAction('auth/loginError');\n\nexport const logoutRequest = createAction('auth/logoutRequest');\nexport const logoutSuccess = createAction('auth/logoutSuccess');\nexport const logoutError = createAction('auth/logoutError');\n\nexport const getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\nexport const getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\nexport const getCurrentUserError = createAction('auth/getCurrentUserError');\n","export const getIsAuthenticated = state => state.auth.isAuthenticated;\n\nexport const getUsername = state => state.auth.user.name;\n","import axios from 'axios';\n\nimport * as authActions from './auth-actions';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const register = credentials => async dispatch => {\n  dispatch(authActions.registerRequest());\n  try {\n    const response = await axios.post('/users/signup', credentials);\n\n    token.set(response.data.token);\n    dispatch(authActions.registerSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.registerError(error.message));\n  }\n};\n\nexport const logIn = credentials => async dispatch => {\n  dispatch(authActions.loginRequest());\n\n  try {\n    const responce = await axios.post('/users/login', credentials);\n\n    token.set(responce.data.token);\n    dispatch(authActions.loginSuccess(responce.data));\n  } catch (error) {\n    dispatch(authActions.loginError(error.message));\n  }\n};\n\nexport const logOut = () => async dispatch => {\n  dispatch(authActions.logoutRequest());\n\n  try {\n    await axios.post('/users/logout');\n\n    token.unset();\n    dispatch(authActions.logoutSuccess());\n  } catch (error) {\n    dispatch(authActions.logoutError(error.message));\n  }\n};\n\nexport const getCurrentUser = () => async (dispatch, getState) => {\n  const {\n    auth: { token: persistedToken },\n  } = getState();\n\n  if (!persistedToken) {\n    return;\n  }\n\n  token.set(persistedToken);\n  dispatch(authActions.getCurrentUserRequest());\n  try {\n    const response = await axios.get('/users/current');\n\n    dispatch(authActions.getCurrentUserSuccess(response.data));\n  } catch (error) {\n    dispatch(authActions.getCurrentUserError(error.message));\n  }\n};\n","import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport * as authActions from './auth-actions';\n\nconst initialUserState = { name: null, email: null };\n\nconst user = createReducer(initialUserState, {\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\n  [authActions.logoutSuccess]: () => initialUserState,\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\n});\n\nconst setPayloadToken = (_, { payload }) => payload.token;\n\nconst token = createReducer(null, {\n  [authActions.registerSuccess]: setPayloadToken,\n  [authActions.loginSuccess]: setPayloadToken,\n  [authActions.logoutSuccess]: () => null,\n});\n\nconst setError = (_, { payload }) => payload;\n\nconst error = createReducer(null, {\n  [authActions.registerError]: setError,\n  [authActions.loginError]: setError,\n  [authActions.logoutError]: setError,\n  [authActions.getCurrentUserError]: setError,\n});\n\nconst isAuthenticated = createReducer(false, {\n  [authActions.registerSuccess]: () => true,\n  [authActions.loginSuccess]: () => true,\n  [authActions.getCurrentUserSuccess]: () => true,\n\n  [authActions.logoutSuccess]: () => false,\n  [authActions.registerError]: () => false,\n  [authActions.loginError]: () => false,\n  [authActions.getCurrentUserError]: () => false,\n});\n\nexport default combineReducers({ isAuthenticated, user, token, error });\n"],"sourceRoot":""}